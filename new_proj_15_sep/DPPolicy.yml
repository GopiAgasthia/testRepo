kind: DataPowerAssembly
apiVersion: api.ibm.com/v1
metadata:
  name: DPPolicy
  namespace: dev
  version: '1.0'
  tags: []
  labels:
    gatewayTypes:
      - datapower
spec:
  x-ibm-configuration:
    gateway: datapower-api-gateway
    assembly:
      execute:
        - invoke:
            version: 2.3.0
            title: invoke
            backend-type: json
            header-control:
              type: blocklist
              values: []
            parameter-control:
              type: allowlist
              values: []
            http-version: HTTP/1.1
            timeout: 60
            verb: keep
            chunked-uploads: true
            persistent-connection: true
            cache-response: protocol
            cache-ttl: 900
            websocket-upgrade: false
            target-url: https://petstore3.swagger.io/
        - log:
            version: 2.1.0
            title: log
            log-level: default
            mode: gather-only
      catch: []
